<template>
    <div class="page">
        <div class="navbar">
            <div class="navbar-bg"></div>
            <div class="navbar-inner">
                <div class="left"></div>
                <div class="title">Profil</div>
                <div class="right">
                    <a href="/login-user/" class="link color-red">
                        <i class="icon f7-icons">power</i>
                    </a>
                </div>
            </div>
        </div>
        <div class="toolbar tabbar-labels toolbar-bottom">
            <div class="toolbar-inner">
                <a href="/home-user/" class="tab-link">
                    <i class="icon f7-icons">house_alt_fill</i>
                    <span class="tabbar-label">Home</span>
                </a>
                <a href="/lelang-user/" class="tab-link">
                    <i class="icon f7-icons">cube_box_fill</i>
                    <span class="tabbar-label">Barang</span>
                </a>
                <a href="/profil-user/" class="tab-link tab-link-active">
                    <i class="icon f7-icons">person_alt_circle_fill</i>
                    <span class="tabbar-label">Profil</span>
                </a>
            </div>
        </div>
        <div class="page-content">
            <div class="block-title">Data Member</div>
            <div class="block card padding">
            <table>
                <tr>
                    <td rowspan="5" style="vertical-align: middle;padding-right: 10px;"><img width="100px" src="https://firebasestorage.googleapis.com/v0/b/test-89d4a.appspot.com/o/profil-user%2Fuser.png?alt=media&token=46614e13-3730-40b4-bd72-bc4e809c56c0" /></td>
                    <td>Nama</td>
                    <td>:</td>
                    <td style="word-break:break-all;"><span style="word-break:break-all;" id="profil-nama"></span></td>
                </tr>
                <tr>
                    <td>NIK</td>
                    <td>:</td>
                    <td style="word-break:break-all;"><span style="word-break:break-all;" id="profil-nik"></span></td>
                </tr>
                <tr>
                    <td>Alamat</td>
                    <td>:</td>
                    <td style="word-break:break-all;"><span style="word-break:break-all;" id="profil-alamat"></span></td>
                </tr>
                <tr>
                    <td>No.HP</td>
                    <td>:</td>
                    <td style="word-break:break-all;"><span style="word-break:break-all;" id="profil-hp"></span></td>
                </tr>
                <tr>
                    <td>Email</td>
                    <td>:</td>
                    <td style="word-break:break-all;"><span style="word-break:break-all;" id="profil-email"></span></td>
                </tr>
            </table>
            </div>
            <!-- <div class="block-title">Daftar Lelang terkini</div>
            <p>ganti foto profil.</p>
            <input type="file" id="file" /> -->
        </div>
    </div>
</template>
<style>
    .size-50 { font-size: 100px }
</style>
<script>
    export default (props, {
        $,
        $on,
        $f7
    }) => {
        $on('pageInit', () => {
            let idUser = store.state.users[0];
            let namaDB = "users/" + idUser;

            //data member
            getData(namaDB).then(res => {
                // console.log(res);
                $('#profil-nama').text(res.data.nama);
                $('#profil-nik').text(res.data.nik);
                $('#profil-alamat').text(res.data.alamat);
                $('#profil-hp').text(res.data.hp);
                $('#profil-email').text(res.data.email);
            });
        });

        return $render;
    }
</script>